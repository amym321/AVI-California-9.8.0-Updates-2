{%- if section.settings.show_announcement -%}
  {%- if section.settings.home_page_only == false or template.name == 'index' -%}

    <style type="text/css">
      .announcement-bar { background: {{ section.settings.color_announcement_bg }}; }
      .announcement-bar p { color: {{ section.settings.color_announcement_text }}; }
    </style>

    {% comment %} native announcement bar {% endcomment %}
    {% comment %} <div class="announcement-bar" role="banner">
      {% if section.settings.announcement_link != blank %}<a href="{{ section.settings.announcement_link }}">{% endif %}
        <p>{{ section.settings.top_banner_text }}</p>
      {% if section.settings.announcement_link != blank %}</a>{% endif %}
    </div> {% endcomment %}

    {% comment %} scrolling Marquee - am {% endcomment %}
    <div class="announcement-bar" role="banner">
      {% comment %} <div class="custom-liquid__wrapper"> {% endcomment %}
      {% if section.settings.announcement_link != blank %}<a href="{{ section.settings.announcement_link }}">{% endif %}
        <div class="marquee">
          <div class="marquee-block">
            <p class="marquee-text">
              <span>{{ section.settings.top_banner_text }}</span>
            </p>
          </div>
        </div>
      {% if section.settings.announcement_link != blank %}</a>{% endif %}
    </div>

  {%- endif -%}
{%- endif -%}

{% schema %}
{
  "name": {
    "en": "Announcement bar",
    "es": "Barra de anuncios"
  },
  "class": "section-announcement-bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_announcement",
      "label": {
        "en": "Show announcement",
        "es": "Mostrar anuncio"
      },
      "default": false
    },
    {
      "type": "checkbox",
      "id": "home_page_only",
      "label": {
        "en": "Home page only",
        "es": "Tan sólo en la página de inicio"
      },
      "default": false
    },
    {
      "type": "text",
      "id": "top_banner_text",
      "label": {
        "en": "Announcement text",
        "es": "Texto del anuncio"
      },
      "default": {
        "en": "Free Shipping and Returns above $100!",
        "es": "Envíos gratis para pedidos de más de 100€"
      }
    },
    {
      "type": "url",
      "id": "announcement_link",
      "label": {
        "en": "Announcement link",
        "es": "Enlace del anuncio"
      }
    },
    {
      "type": "color",
      "id": "color_announcement_text",
      "label": {
        "en": "Text",
        "es": "Texto"
      },
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "color_announcement_bg",
      "label": {
        "en": "Background",
        "es": "Fondo"
      },
      "default": "#212529"
    }
  ]
}
{% endschema %}